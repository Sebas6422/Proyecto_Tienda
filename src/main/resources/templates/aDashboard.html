<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">

        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <script th:src="@{/js/app.js}" defer></script>

        <link rel="stylesheet" th:href="@{/css/estilos.css}">
        <link rel="stylesheet" th:href="@{/css/estilos2.css}">
        <link rel="stylesheet" th:href="@{/css/estilos3.css}">

        <script th:inline="javascript" defer>
            function cargarImagen(proveedorId) {
                const imgElement = document.getElementById('img-' + proveedorId);
                if (imgElement) {
                    const imgUrl = '/proveedor/img/' + proveedorId;
                    imgElement.src = imgUrl;
                    console.log("Cargando imagen del proveedor con ID " + proveedorId);
                } else {
                    console.error("El elemento de imagen para el proveedor con ID " + proveedorId + " no se encontró en el documento.");
                }
            }
        </script>
    </head>
    <body>
    <div th:replace="~{aMenu :: #menu-dashboard}"></div>
    <div style="margin-left: 17.5rem;" id="admin-dashboard">

        <div class="d-flex">

            <div class="w-100">
                
                <div th:replace="~{aHeader :: #headerA}"></div>

                <div id="content">
                    <section class="py-3">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-lg-9">
                                    <h1 class="text-dark">Bienvenido Administrador</h1>
                                    <p class="lead text-muted">Revisa la ultima información</p>
                                </div>
                                <div class="col-lg-3 d-flex">
                                    <button class="btn btn-dark w-100 align-self-center">Descargar informe</button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <div class="container-fluid">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-lg-3 separacion my-3 d-flex">
                                            <div class="mx-auto">
                                                <h6 class="text-dark">Ingresos mensuales</h6>
                                                <h3 th:text="'S/. ' + ${totalVentas}" class="negro"></h3>
                                                <h6 class="text-success"><i class="fa-solid fa-circle-up"></i>50.50%</h6>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 separacion my-3 d-flex">
                                            <div class="mx-auto">
                                                <h6 class="text-dark">Productos disponibles</h6>
                                                <h3 th:text="${#lists.size(productos)}" class="negro"></h3>
                                                <h6 th:text="${porcentajeConStock} + '%'" class="text-success"><i class="fa-solid fa-circle-up"></i></h6>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 separacion my-3 d-flex">
                                            <div class="mx-auto">
                                                <h6 class="text-dark">Número de usuarios</h6>
                                                <h3 th:text="${#lists.size(usuarios)}" class="negro" style="text-align: center;"></h3>
                                                <!-- <h6 class="text-success"><i class="fa-solid fa-circle-up"></i>95%</h6> -->
                                            </div>
                                        </div>
                                        <div class="col-lg-3 my-3 d-flex">
                                            <div class="mx-auto">
                                                <h6 class="text-dark">Perdida de usuarios</h6>
                                                <h3 class="negro">10</h3>
                                                <h6 class="text-danger"><i class="fa-solid fa-circle-down"></i>5%</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="bg-grey">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-lg-8 my-3">
                                    <div class="card rounded-0">
                                        <div class="card-header bg-light">
                                            <h6 class="font-weight-bold mb-0 text-dark">Número de usuarios nuevos</h6>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="myChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 my-3">
                                    <div class="card rounded-0">
                                        <div class="card-header bg-light">
                                            <h6 class="font-weight-bold mb-0 text-dark">Proveedores más recurridos</h6>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="myChart2"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 my-3">
                                    <div class="card rounded-0">
                                        <div class="card-header bg-light">
                                            <h6 class="font-weight-bold mb-0 text-dark">Afluencia de publico</h6>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="myChart3"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <footer class="bg-grey">
                        <div class="container-fluid">
                            <div class="card rounded-0">
                                <div class="container-fluid d-flex justify-content-center">
                                    <img src="images/logoG.png" alt="">
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            </div>
        </div>



        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"
            integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous"></script>

        <script>
            const ctx = document.getElementById('myChart');

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    datasets: [{
                        label: '# de clientes 2023',
                        data: [12, 19, 3, 5, 2, 3, 18, 20, 11, 13, 25, 30],
                        backgroundColor: 'rgb(254, 159, 72)',

                        maxBarThickness: 40
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>
        <script>
            const ctx2 = document.getElementById('myChart2');

            new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['AJE', 'ALIPCORP', 'P&G'],
                    datasets: [{
                        label: '# de Proveedores',
                        data: [50, 20, 30],
                        backgroundColor: ['rgb(212, 41, 71)', 'rgb(255, 205, 86)', 'rgb(54, 162, 235)'],

                        maxBarThickness: 40
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>
        <script>
            const ctx3 = document.getElementById('myChart3');

            new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: ['Enero', 'Febrero', 'Marzo'],
                    datasets: [{
                        label: '# Afluencia de publico',
                        data: [12, 19, 3],
                        backgroundColor: 'rgb(212, 41, 71)',

                        maxBarThickness: 40
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>

    </div>
</body>
